{"version":3,"file":"Button.js","sources":["../../component/Button.ts"],"sourcesContent":["import Gtk, { Delegate } from \"gtoolkit\";\r\nimport { Property, PropertyUtil } from \"../style/Property\";\r\nimport { Component, ComponentOption } from \"./Component\";\r\nimport { Lui } from \"../style/Asset\";\r\nimport { ClickEvent } from \"../event/ClickEvent\";\r\nimport { Box } from \"./Box\";\r\nimport hasCorner = PropertyUtil.hasCorner;\r\nimport ColorUtil = Lui.Asset.ColorUtil;\r\nimport Color = Lui.Asset.Color;\r\nimport NormalThemeColor = Lui.Asset.NormalThemeColor;\r\nimport Interval = Lui.Asset.Interval;\r\nimport ThemeColor = Lui.Asset.ThemeColor;\r\n\r\n/**\r\n * Button.\r\n *\r\n * ⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠐⠒⠒⠒⠒⠚⠛⣿⡟\r\n * ⠄⠄⢠⠄⠄⠄⡄⠄⠄⣠⡶⠶⣶⠶⠶⠂⣠⣶⣶⠂⠄⣸⡿⠄\r\n * ⠄⢀⣿⠇⠄⣰⡿⣠⡾⠋⠄⣼⡟⠄⣠⡾⠋⣾⠏⠄⢰⣿⠁⠄\r\n * ⠄⣾⡏⠄⠠⠿⠿⠋⠠⠶⠶⠿⠶⠾⠋⠄⠽⠟⠄⠄⠄⠃⠄⠄\r\n * ⣼⣿⣤⡤⠤⠤⠤⠤⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄\r\n * @author LviatYi\r\n * @font JetBrainsMono Nerd Font Mono https://github.com/ryanoasis/nerd-fonts/releases/download/v3.0.2/JetBrainsMono.zip\r\n * @fallbackFont Sarasa Mono SC https://github.com/be5invis/Sarasa-Gothic/releases/download/v0.41.6/sarasa-gothic-ttf-0.41.6.7z\r\n */\r\nexport class Button extends Component {\r\n    private _btn: mw.Button;\r\n\r\n    private _box: Box;\r\n\r\n    private _cnvClickAnim: mw.Canvas;\r\n\r\n    private _imgClickAnim: mw.Image;\r\n\r\n    private _txtLabel: mw.TextBlock;\r\n\r\n    private _cnvIcon: mw.Canvas;\r\n\r\n    private _imgIcon: mw.Image;\r\n\r\n    private _imgHighlight: mw.Image;\r\n\r\n    private _option: Readonly<Required<ButtonOption>> = undefined;\r\n\r\n    private _hovered: boolean = false;\r\n\r\n    private _pressed: boolean = false;\r\n\r\n    public get enable() {\r\n        return this._btn?.enable ?? false;\r\n    }\r\n\r\n    public set enable(value: boolean) {\r\n        if (this._btn) this._btn.enable = value;\r\n    }\r\n\r\n//#region Lui Component\r\n    public static create(option?: ButtonOption): Button {\r\n        let btn = new Button();\r\n\r\n        btn._option = Button.defaultOption(option);\r\n\r\n        if (btn._option.zOrder !== undefined)\r\n            btn.root.zOrder = btn._option.zOrder;\r\n\r\n        if (btn._option.variant === \"contained\") {\r\n            btn._box = Box\r\n                .create(btn._option)\r\n                .attach(btn);\r\n        }\r\n\r\n        btn._btn = mw.Button.newObject(btn.root, \"btn\");\r\n        btn._btn.visibility = mw.SlateVisibility.Visible;\r\n        btn._btn.normalImageGuid = Lui.Asset.ImgRoundedRectangleOutline;\r\n        if (btn._option.variant === \"contained\") {\r\n            btn._btn.normalImageDrawType = mw.SlateBrushDrawType.NoDrawType;\r\n        } else {\r\n            btn._btn.normalImageDrawType = mw.SlateBrushDrawType.PixcelBox;\r\n            btn._btn.normalImageMargin = new mw.Margin(\r\n                Lui.Asset.ImgRoundedRectangleBoxMargin.left,\r\n                Lui.Asset.ImgRoundedRectangleBoxMargin.top,\r\n                Lui.Asset.ImgRoundedRectangleBoxMargin.right,\r\n                Lui.Asset.ImgRoundedRectangleBoxMargin.bottom,\r\n            );\r\n        }\r\n        btn._btn.transitionEnable = false;\r\n\r\n        btn._cnvClickAnim = mw.Canvas.newObject(btn.root, \"cnvClickAnim\");\r\n        btn._cnvClickAnim.visibility = mw.SlateVisibility.SelfHitTestInvisible;\r\n        btn._cnvClickAnim.clipEnable = true;\r\n\r\n        btn._imgClickAnim = mw.Image.newObject(btn._cnvClickAnim, \"imgClickAnim\");\r\n        btn._imgClickAnim.visibility = mw.SlateVisibility.SelfHitTestInvisible;\r\n        Gtk.setUiScale(btn._imgClickAnim, 0, 0);\r\n        btn._imgClickAnim.renderOpacity = 0;\r\n        btn._imgClickAnim.imageGuid = Lui.Asset.ImgCircle;\r\n        btn._imgClickAnim.setImageColorByHex(ColorUtil.colorHexWithAlpha(Color.Black, 0.25));\r\n\r\n        btn._txtLabel = mw.TextBlock.newObject(btn.root, \"txtLabel\");\r\n        Gtk.trySetVisibility(\r\n            btn._txtLabel,\r\n            Gtk.isNullOrEmpty(btn._option.icon) && !btn._option.renderIcon);\r\n        btn._txtLabel.autoAdjust = false;\r\n        PropertyUtil.applyFontSize(btn._txtLabel, btn._option.fontSize);\r\n        btn._txtLabel.glyph = btn._option.fontStyle;\r\n        PropertyUtil.applyTextAlign(btn._txtLabel, btn._option.textAlign);\r\n        btn._txtLabel.textVerticalAlign = mw.TextVerticalJustify.Center;\r\n        if (!Gtk.isNullOrEmpty(btn._option.label)) Gtk.trySetText(btn._txtLabel, btn._option.label);\r\n\r\n        btn._cnvIcon = mw.Canvas.newObject(btn.root, \"cnvIcon\");\r\n        Gtk.trySetVisibility(\r\n            btn._cnvIcon,\r\n            !Gtk.isNullOrEmpty(btn._option.icon) || !!btn._option.renderIcon);\r\n        btn._cnvIcon.autoLayoutEnable = false;\r\n        btn._cnvIcon.clipEnable = true;\r\n        if (btn._option.renderIcon) {\r\n            btn._cnvIcon.addChild(btn._option.renderIcon);\r\n        }\r\n\r\n        btn._imgIcon = mw.Image.newObject(btn._cnvIcon, \"imgIcon\");\r\n        if (btn._option.icon) {\r\n            Gtk.trySetVisibility(btn._cnvIcon, true);\r\n            btn._imgIcon.imageGuid = btn._option.icon;\r\n            btn._imgIcon.imageDrawType = mw.SlateBrushDrawType.Image;\r\n        } else {\r\n            Gtk.trySetVisibility(btn._cnvIcon, false);\r\n            btn._imgIcon.imageDrawType = mw.SlateBrushDrawType.NoDrawType;\r\n        }\r\n\r\n        btn._imgHighlight = mw.Image.newObject(btn.root, \"imgHighlight\");\r\n        btn._imgHighlight.visibility = mw.SlateVisibility.SelfHitTestInvisible;\r\n        if (hasCorner(btn._option.corner, Property.Corner.All)) {\r\n            btn._imgHighlight.imageGuid = Lui.Asset.ImgRectangle;\r\n            btn._imgHighlight.imageDrawType = mw.SlateBrushDrawType.Image;\r\n        } else {\r\n            btn._imgHighlight.imageGuid = Lui.Asset.ImgRoundedRectangle;\r\n            btn._imgHighlight.imageDrawType = mw.SlateBrushDrawType.PixcelBox;\r\n            btn._imgHighlight.margin = new mw.Margin(\r\n                Lui.Asset.ImgRoundedRectangleBoxMargin.left,\r\n                Lui.Asset.ImgRoundedRectangleBoxMargin.top,\r\n                Lui.Asset.ImgRoundedRectangleBoxMargin.right,\r\n                Lui.Asset.ImgRoundedRectangleBoxMargin.bottom,\r\n            );\r\n        }\r\n        btn._imgHighlight.setImageColorByHex(ColorUtil.colorHexWithAlpha(Color.Black, 0.25));\r\n        btn._imgHighlight.renderOpacity = 0;\r\n\r\n        btn.setSize();\r\n        btn.setColor();\r\n\r\n        btn._btn.onClicked.add(() => {\r\n            const clickAt = mw.absoluteToLocal(\r\n                btn.root.cachedGeometry,\r\n                mw.getMousePositionOnPlatform());\r\n            btn.onClick.invoke({position: {x: clickAt.x, y: clickAt.y}});\r\n        });\r\n        btn._btn.onPressed.add(() => {\r\n            const clickAt = mw.absoluteToLocal(\r\n                btn.root.cachedGeometry,\r\n                mw.getMousePositionOnPlatform());\r\n            btn.playClickAnimAt(clickAt.x, clickAt.y);\r\n            btn._hovered = false;\r\n            btn._imgHighlight.renderOpacity = 0;\r\n            btn._pressed = true;\r\n\r\n            btn.onPress.invoke({position: {x: clickAt.x, y: clickAt.y}});\r\n        });\r\n\r\n        btn._btn.onReleased.add(() => {\r\n            const clickAt = mw.absoluteToLocal(\r\n                btn.root.cachedGeometry,\r\n                mw.getMousePositionOnPlatform());\r\n            btn._pressed = false;\r\n\r\n            btn.onRelease.invoke({position: {x: clickAt.x, y: clickAt.y}});\r\n        });\r\n\r\n        btn._btn.onHovered.add(() => {\r\n            if (btn._imgClickAnim.renderOpacity <= 0) btn._hovered = true;\r\n        });\r\n        btn._btn.onUnhovered.add(() => btn._hovered = false);\r\n\r\n        return btn;\r\n    };\r\n\r\n    public static defaultOption(option?: ButtonOption): Required<ButtonOption> {\r\n        if (!option) option = {};\r\n\r\n        if (!option.size) option.size = {x: 240, y: 80};\r\n        if (!option.padding) option.padding = {};\r\n        if (!option.color) option.color = NormalThemeColor;\r\n        if (!option.fontSize) option.fontSize = 36;\r\n        if (!option.fontStyle) option.fontStyle = mw.UIFontGlyph.Light;\r\n        if (!option.textAlign) option.textAlign = \"center\";\r\n        if (!option.variant) option.variant = \"contained\";\r\n        if (!option.corner) option.corner = 0;\r\n\r\n        return option as Required<ButtonOption>;\r\n    };\r\n\r\n    protected renderAnimHandler = (dt: number) => {\r\n        if (!this._btn.enable && this._imgClickAnim.renderOpacity < 1) {\r\n            Gtk.setUiPosition(this._imgClickAnim,\r\n                (this._option.padding.left ?? 0) - this._imgClickAnim.size.x / 2,\r\n                (this._option.padding.top ?? 0) - this._imgClickAnim.size.y / 2);\r\n            Gtk.setUiScale(this._imgClickAnim, 1, 1);\r\n            this._imgClickAnim.renderOpacity = 1;\r\n            return;\r\n        }\r\n\r\n        if (this._pressed) {\r\n            if (this._imgClickAnim.renderScale.x < 1) {\r\n                let scale = Math.min(1, this._imgClickAnim.renderScale.x + dt / Interval.Fast);\r\n                Gtk.setUiScale(this._imgClickAnim, scale, scale);\r\n            }\r\n        } else if (this._imgClickAnim.renderOpacity > 0) {\r\n            let scale = Math.min(1, this._imgClickAnim.renderScale.x + dt / Interval.Fast);\r\n            Gtk.setUiScale(this._imgClickAnim, scale, scale);\r\n            this._imgClickAnim.renderOpacity = Math.max(0, this._imgClickAnim.renderOpacity - dt / Interval.Normal);\r\n        }\r\n\r\n        if (this._hovered && this._imgHighlight.renderOpacity < 1) {\r\n            this._imgHighlight.renderOpacity = Math.min(\r\n                1,\r\n                this._imgHighlight.renderOpacity + dt / Interval.VeryFast);\r\n        }\r\n\r\n        if (!this._hovered && this._imgHighlight.renderOpacity > 0) {\r\n            this._imgHighlight.renderOpacity = Math.max(\r\n                0,\r\n                this._imgHighlight.renderOpacity - dt / Interval.VeryFast);\r\n        }\r\n    };\r\n\r\n//#endregion ⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠐⠒⠒⠒⠒⠚⠛⣿⡟⠄⠄⢠⠄⠄⠄⡄⠄⠄⣠⡶⠶⣶⠶⠶⠂⣠⣶⣶⠂⠄⣸⡿⠄⠄⢀⣿⠇⠄⣰⡿⣠⡾⠋⠄⣼⡟⠄⣠⡾⠋⣾⠏⠄⢰⣿⠁⠄⠄⣾⡏⠄⠠⠿⠿⠋⠠⠶⠶⠿⠶⠾⠋⠄⠽⠟⠄⠄⠄⠃⠄⠄⣼⣿⣤⡤⠤⠤⠤⠤⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄\r\n\r\n    public preview(): this {\r\n        Gtk.setUiScale(this._imgClickAnim, 0.5, 0.5);\r\n        this._imgClickAnim.renderOpacity = 0.75;\r\n\r\n        Gtk.setUiPosition(this._imgClickAnim,\r\n            this._cnvClickAnim.size.x - this._imgClickAnim.size.x / 2,\r\n            this._cnvClickAnim.size.y - this._imgClickAnim.size.y / 2);\r\n\r\n        mw.TimeUtil.onEnterFrame.remove(this[\"renderAnim\"]);\r\n\r\n        return this;\r\n    }\r\n\r\n//#region Init\r\n    private setSize(): this {\r\n        let [x, y] = [this._option.size.x, this._option.size.y];\r\n        let [pt, pr, pb, pl] = [\r\n            this._option.padding.top ?? 0,\r\n            this._option.padding.right ?? 0,\r\n            this._option.padding.bottom ?? 0,\r\n            this._option.padding.left ?? 0,\r\n        ];\r\n\r\n        Gtk.setUiSize(this.root, x, y);\r\n        let [contentX, contentY] = [\r\n            x - pl - pr,\r\n            y - pt - pb];\r\n        Gtk.setUiPosition(this._btn, pl, pt);\r\n        Gtk.setUiSize(this._btn, contentX, contentY);\r\n        Gtk.setUiPosition(this._txtLabel, pl, pt);\r\n        Gtk.setUiSize(this._txtLabel, contentX, contentY);\r\n\r\n        const realBtnSize = {\r\n            x: contentX,\r\n            y: contentY,\r\n        };\r\n\r\n        const txtSize = {\r\n            x: realBtnSize.x - 2 * (Lui.Asset.ImgRoundedRectangleBoxMargin.left + Lui.Asset.ImgRoundedRectangleBoxMargin.right),\r\n            y: contentY,\r\n        };\r\n\r\n        Gtk.setUiPosition(this._txtLabel,\r\n            pl + 2 * Lui.Asset.ImgRoundedRectangleBoxMargin.left,\r\n            pt);\r\n        Gtk.setUiSize(this._txtLabel,\r\n            txtSize.x,\r\n            txtSize.y);\r\n        Gtk.setUiPosition(this._cnvClickAnim,\r\n            pl,\r\n            pt,\r\n        );\r\n        Gtk.setUiSize(this._cnvClickAnim,\r\n            realBtnSize.x,\r\n            realBtnSize.y);\r\n        let minContent = Math.min(contentX, contentY);\r\n        Gtk.setUiPosition(this._cnvIcon,\r\n            pl + (contentX - minContent) / 2,\r\n            pt + (contentY - minContent) / 2);\r\n        Gtk.setUiSize(this._cnvIcon, minContent, minContent);\r\n        Gtk.setUiPosition(this._imgIcon, 0, 0);\r\n        Gtk.setUiSize(this._imgIcon, minContent, minContent);\r\n        if (this._option.renderIcon) {\r\n            Gtk.setUiPosition(this._option.renderIcon,\r\n                pl + (contentX - minContent) / 2,\r\n                pt + (contentY - minContent) / 2);\r\n            Gtk.setUiSize(this._option.renderIcon, minContent, minContent);\r\n        }\r\n        Gtk.setUiPosition(this._imgHighlight,\r\n            pl,\r\n            pt,\r\n        );\r\n        Gtk.setUiSize(this._imgHighlight,\r\n            realBtnSize.x,\r\n            realBtnSize.y);\r\n\r\n        const diameter = 2 * Math.sqrt(contentX * contentX + contentY * contentY);\r\n        Gtk.setUiSize(this._imgClickAnim, diameter, diameter);\r\n\r\n        return this;\r\n    }\r\n\r\n    private setColor(): this {\r\n        this._btn.setNormalImageColorByHex(ColorUtil.colorHexWithAlpha(this._option.color.primary, 1));\r\n        switch (this._option.variant) {\r\n            case \"outlined\":\r\n                this._txtLabel.setFontColorByHex(ColorUtil.colorHexWithAlpha(this._option.color.primary, 1));\r\n                break;\r\n            case \"contained\":\r\n            default:\r\n                this._txtLabel.setFontColorByHex(Color.White);\r\n                break;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n//#endregion ⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠐⠒⠒⠒⠒⠚⠛⣿⡟⠄⠄⢠⠄⠄⠄⡄⠄⠄⣠⡶⠶⣶⠶⠶⠂⣠⣶⣶⠂⠄⣸⡿⠄⠄⢀⣿⠇⠄⣰⡿⣠⡾⠋⠄⣼⡟⠄⣠⡾⠋⣾⠏⠄⢰⣿⠁⠄⠄⣾⡏⠄⠠⠿⠿⠋⠠⠶⠶⠿⠶⠾⠋⠄⠽⠟⠄⠄⠄⠃⠄⠄⣼⣿⣤⡤⠤⠤⠤⠤⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄\r\n\r\n    private playClickAnimAt(x: number, y: number) {\r\n        Gtk.setUiScale(this._imgClickAnim, 0, 0);\r\n        this._imgClickAnim.renderOpacity = 1;\r\n\r\n        Gtk.setUiPosition(this._imgClickAnim,\r\n            x - this._imgClickAnim.size.x / 2,\r\n            y - this._imgClickAnim.size.y / 2);\r\n    }\r\n\r\n//#region CallBack\r\n    public onClick: Delegate.SimpleDelegate<ClickEvent> = new Delegate.SimpleDelegate();\r\n\r\n    public onPress: Delegate.SimpleDelegate<ClickEvent> = new Delegate.SimpleDelegate();\r\n\r\n    public onRelease: Delegate.SimpleDelegate<ClickEvent> = new Delegate.SimpleDelegate();\r\n\r\n//#endregion ⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠐⠒⠒⠒⠒⠚⠛⣿⡟⠄⠄⢠⠄⠄⠄⡄⠄⠄⣠⡶⠶⣶⠶⠶⠂⣠⣶⣶⠂⠄⣸⡿⠄⠄⢀⣿⠇⠄⣰⡿⣠⡾⠋⠄⣼⡟⠄⣠⡾⠋⣾⠏⠄⢰⣿⠁⠄⠄⣾⡏⠄⠠⠿⠿⠋⠠⠶⠶⠿⠶⠾⠋⠄⠽⠟⠄⠄⠄⠃⠄⠄⣼⣿⣤⡤⠤⠤⠤⠤⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄\r\n}\r\n\r\nexport type ButtonVariant = \"contained\" | \"outlined\";\r\n\r\nexport interface ButtonOption extends ComponentOption {\r\n    label?: string;\r\n\r\n    color?: ThemeColor;\r\n\r\n    fontSize?: Property.FontSize;\r\n\r\n    fontStyle?: Property.FontStyle;\r\n\r\n    textAlign?: Property.TextAlign;\r\n\r\n    icon?: string;\r\n\r\n    renderIcon?: mw.Widget;\r\n\r\n    variant?: ButtonVariant;\r\n\r\n    corner?: Property.Corner;\r\n}"],"names":[],"mappings":"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"}