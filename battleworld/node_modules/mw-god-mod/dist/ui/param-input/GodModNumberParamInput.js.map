{"version":3,"file":"GodModNumberParamInput.js","sources":["../../../ui/param-input/GodModNumberParamInput.ts"],"sourcesContent":["import { IGodModParamInputParametric, ParamInputSizeY } from \"../param-base/IGodModParamInput\";\r\nimport Gtk, { Delegate } from \"gtoolkit\";\r\nimport { Lui, Property, TextField } from \"mw-lynx-ui\";\r\nimport { GodModPanelSizeX } from \"../base/GodModPanelConst\";\r\nimport { GodModParamInputBase } from \"../param-base/GodModParamInputBase\";\r\nimport Color = Lui.Asset.Color;\r\n\r\n/**\r\n * GodModNumberParamInput.\r\n *\r\n * ⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠐⠒⠒⠒⠒⠚⠛⣿⡟\r\n * ⠄⠄⢠⠄⠄⠄⡄⠄⠄⣠⡶⠶⣶⠶⠶⠂⣠⣶⣶⠂⠄⣸⡿⠄\r\n * ⠄⢀⣿⠇⠄⣰⡿⣠⡾⠋⠄⣼⡟⠄⣠⡾⠋⣾⠏⠄⢰⣿⠁⠄\r\n * ⠄⣾⡏⠄⠠⠿⠿⠋⠠⠶⠶⠿⠶⠾⠋⠄⠽⠟⠄⠄⠄⠃⠄⠄\r\n * ⣼⣿⣤⡤⠤⠤⠤⠤⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄\r\n * @author LviatYi\r\n * @font JetBrainsMono Nerd Font Mono https://github.com/ryanoasis/nerd-fonts/releases/download/v3.0.2/JetBrainsMono.zip\r\n * @fallbackFont Sarasa Mono SC https://github.com/be5invis/Sarasa-Gothic/releases/download/v0.41.6/sarasa-gothic-ttf-0.41.6.7z\r\n * @internal\r\n */\r\nexport default class GodModNumberParamInput extends GodModParamInputBase implements IGodModParamInputParametric<number> {\r\n    private _input: TextField;\r\n\r\n//#region Lui Component\r\n    public static create(): GodModNumberParamInput {\r\n        let input = new GodModNumberParamInput();\r\n\r\n        input._input = TextField.create({\r\n            label: \"number\",\r\n            size: {x: GodModPanelSizeX, y: ParamInputSizeY},\r\n            color: {\r\n                primary: Color.Blue,\r\n                secondary: Color.Blue200,\r\n            },\r\n            fontSize: 16,\r\n            fontStyle: mw.UIFontGlyph.Light,\r\n            corner: Property.Corner.Top,\r\n            type: mw.InputTextLimit.LimitToFloat,\r\n        }).attach(input);\r\n\r\n        Gtk.setUiSize(input.root, GodModPanelSizeX, ParamInputSizeY);\r\n\r\n        return input;\r\n    };\r\n\r\n//#endregion ⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠐⠒⠒⠒⠒⠚⠛⣿⡟⠄⠄⢠⠄⠄⠄⡄⠄⠄⣠⡶⠶⣶⠶⠶⠂⣠⣶⣶⠂⠄⣸⡿⠄⠄⢀⣿⠇⠄⣰⡿⣠⡾⠋⠄⣼⡟⠄⣠⡾⠋⣾⠏⠄⢰⣿⠁⠄⠄⣾⡏⠄⠠⠿⠿⠋⠠⠶⠶⠿⠶⠾⠋⠄⠽⠟⠄⠄⠄⠃⠄⠄⣼⣿⣤⡤⠤⠤⠤⠤⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄\r\n\r\n//#region IGodModParamInputParametric\r\n    public getParam(): number {\r\n        return Number(this._input.text);\r\n    }\r\n\r\n    public setParam(p: number): void {\r\n        this._input.setContent(p?.toString() ?? \"\");\r\n    }\r\n\r\n    public setValidator(validator: Property.DataValidators<string>): void {\r\n        this._input.setValidator(validator);\r\n    }\r\n\r\n    public get validated(): Property.DataValidateResult {\r\n        return this._input.validated;\r\n    }\r\n\r\n    public setCustomLabel(label?: string): void {\r\n        this._input.setLabel(label ?? \"number\");\r\n    }\r\n\r\n    private _onCommit: Delegate.SimpleDelegate;\r\n\r\n    public get onCommit(): Delegate.SimpleDelegate {\r\n        if (!this._onCommit) {\r\n            this._onCommit = new Delegate.SimpleDelegate();\r\n            this._input.onCommit.add(() => this._onCommit.invoke());\r\n        }\r\n\r\n        return this._onCommit;\r\n    }\r\n\r\n//#endregion\r\n}"],"names":[],"mappings":";;;;;;AAKA,IAAO,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;AAE/B;;;;;;;;;;;;AAYG;AACkB,MAAA,sBAAuB,SAAQ,oBAAoB,CAAA;;AAI7D,IAAA,OAAO,MAAM,GAAA;AAChB,QAAA,IAAI,KAAK,GAAG,IAAI,sBAAsB,EAAE,CAAC;AAEzC,QAAA,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;AAC5B,YAAA,KAAK,EAAE,QAAQ;YACf,IAAI,EAAE,EAAC,CAAC,EAAE,gBAAgB,EAAE,CAAC,EAAE,eAAe,EAAC;AAC/C,YAAA,KAAK,EAAE;gBACH,OAAO,EAAE,KAAK,CAAC,IAAI;gBACnB,SAAS,EAAE,KAAK,CAAC,OAAO;AAC3B,aAAA;AACD,YAAA,QAAQ,EAAE,EAAE;AACZ,YAAA,SAAS,EAAE,EAAE,CAAC,WAAW,CAAC,KAAK;AAC/B,YAAA,MAAM,EAAE,QAAQ,CAAC,MAAM,CAAC,GAAG;AAC3B,YAAA,IAAI,EAAE,EAAE,CAAC,cAAc,CAAC,YAAY;AACvC,SAAA,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAEjB,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,gBAAgB,EAAE,eAAe,CAAC,CAAC;AAE7D,QAAA,OAAO,KAAK,CAAC;KAChB;;;;IAKM,QAAQ,GAAA;QACX,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KACnC;AAEM,IAAA,QAAQ,CAAC,CAAS,EAAA;AACrB,QAAA,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;KAC/C;AAEM,IAAA,YAAY,CAAC,SAA0C,EAAA;AAC1D,QAAA,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;KACvC;AAED,IAAA,IAAW,SAAS,GAAA;AAChB,QAAA,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;KAChC;AAEM,IAAA,cAAc,CAAC,KAAc,EAAA;QAChC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,IAAI,QAAQ,CAAC,CAAC;KAC3C;AAID,IAAA,IAAW,QAAQ,GAAA;AACf,QAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACjB,IAAI,CAAC,SAAS,GAAG,IAAI,QAAQ,CAAC,cAAc,EAAE,CAAC;AAC/C,YAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,CAAC;SAC3D;QAED,OAAO,IAAI,CAAC,SAAS,CAAC;KACzB;AAGJ;;;;"}