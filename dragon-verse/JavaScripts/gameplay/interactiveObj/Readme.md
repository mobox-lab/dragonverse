# 交互物模块

## 交互物模块的设计思路

### 交互物的触发方式

目前支持：
* 玩家靠近交互物，显示交互ui，点击ui触发
* 玩家进入交互物上挂的触发器，触发
* 玩家进入交互物上挂的触发器，触发显示ui，点击ui触发

### 交互物的两大特性：

#### 共享交互物
每个人都可以进行交互，可以配置人数上限

#### 独享交互物
同时只能有一个人进行交互

### 交互物触发过程
如果是客户端开始(点击ui或进入触发器)->通知服务端->moduleS判断有没有之前的交互有就先结束->调用交互物脚本某人想开始交互->交互物脚本会判断能否开始交互，并开始服务端交互逻辑，独享交互物会设置上当前交互的playerId并属性同步给客户端，客户端调用客户端开始逻辑。所以所有客户端可以知道这个独享交互物正在交互。

共享交互物只会属性同步交互的人的个数，交互开始和结束通过rpc调用。所以共享交互物的客户端开始交互逻辑可以控制只在自己客户端执行还是所有客户端都执行。


想手动结束，可以调ModuleService endInteraction